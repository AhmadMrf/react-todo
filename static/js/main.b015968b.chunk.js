(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{12:function(e,t,o){e.exports={button:"commonUi_button__32mRZ"}},15:function(e,t,o){e.exports={"input-container":"inputTag_input-container__1Lfag","error-msg":"inputTag_error-msg__8W1nq","input-error":"inputTag_input-error__1ciNK"}},18:function(e,t,o){e.exports={"get-info-title":"headerApp_get-info-title__2rsW7",font:"headerApp_font__3AaqW"}},19:function(e,t,o){e.exports={"get-info-wrapper":"getInfo_get-info-wrapper__3Exmn","get-info-inputs":"getInfo_get-info-inputs__2Up7v"}},21:function(e,t,o){e.exports={todoslist:"todolist_todoslist__2Ebwo","no-todo":"todolist_no-todo__tx9Pw"}},22:function(e,t,o){e.exports={"add-todo-header-container":"addTodoHeader_add-todo-header-container__3LekL","add-todo-header-color":"addTodoHeader_add-todo-header-color__bNLpP"}},31:function(e,t,o){e.exports={"get-color":"colorTag_get-color__2xvU_"}},34:function(e,t,o){e.exports={"todo-date":"todo-date_todo-date__1Ynfg"}},43:function(e,t,o){},56:function(e,t,o){},57:function(e,t,o){"use strict";o.r(t);var n=o(17),c=o(4),a=o(2),r=o.n(a),i=(o(43),o(1)),s=function(e){return Object(i.jsx)("main",{className:"app-wrapper",children:e.children})},d=o(5),l=o(3),u=o(18),j=o.n(u),b=function(e){return Object(i.jsx)("div",{style:e.style,className:"".concat(j.a["get-info-title"]," ").concat(j.a[e.className]||""),children:e.children})},f=o(15),m=o.n(f),O=function(e){return Object(i.jsxs)("div",{className:"".concat(m.a["input-container"]," ").concat(e.className||""),children:[Object(i.jsx)("p",{className:m.a["error-msg"],children:e.errorMsg}),Object(i.jsx)("label",{htmlFor:e.id,children:e.label}),Object(i.jsx)("input",{onChange:function(t){return e.onChangeHandler(t.target.value)},type:e.type,name:"newTodo",id:e.id,value:e.value,className:e.error?m.a["input-error"]:"",autoFocus:!0})]})},p=o(19),h=o.n(p),x=o(12),_=o.n(x),g=o(31),v=o.n(g),N=function(e){var t=Object(a.useState)(e.value),o=Object(c.a)(t,2),n=o[0],r=o[1];return Object(i.jsxs)("div",{className:"".concat(v.a["get-color"]," ").concat(e.className||""),children:[Object(i.jsx)("label",{style:{"--color-input":n},htmlFor:e.id,children:e.label}),Object(i.jsx)("input",{onChange:function(t){r(t.target.value),e.onChangeHandler(t.target.value)},type:"color",id:e.id})]})},C=o(32),w=o.n(C),F=o(33),I=o.n(F),T=o(34),S=o.n(T),y=function(e){var t=e.date;t||(t=new Date);var o=new Date(t),n=o.getDate(),c=o.toLocaleString("en",{month:"short"}),a=o.getHours(),r=o.getMinutes();return Object(i.jsxs)("div",{className:S.a["todo-date"],children:[Object(i.jsx)("span",{children:"".concat(n," ").concat(c)}),Object(i.jsx)("span",{children:"".concat(a,":").concat(r)})]})},E=o(6),k=o.n(E),D=o(10),M=o(20),A=o(7),L=o.n(A),B=r.a.createContext({isLoggedIn:!1,userData:{},todosData:[],onlogedIn:function(){},onLogedOut:function(){},onEditUser:function(){}}),H=r.a.createContext({initialInfo:{},setIsOpen:function(){},setInitialInfo:function(){}}),V=function(e){var t=e.todoId,o=e.isCompleted,n=Object(a.useContext)(B),r=n.onEditUser,s=n.userData,d=Object(a.useContext)(H),u=d.showTodoForm,j=d.todoFormInfoHandle,b=Object(a.useState)(!1),f=Object(c.a)(b,2),m=f[0],O=f[1],p=Object(a.useRef)(null),h=p.current;Object(a.useEffect)((function(){var e=function(e){h&&!h.contains(e.target)&&O(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[h]);return Object(i.jsxs)("div",{ref:p,className:L.a["more-action-wrapper"],children:[m&&Object(i.jsxs)("div",{className:"".concat(L.a["more-action"]),children:[!o&&Object(i.jsx)("button",{onClick:function(){var e=s.userTodo.map((function(e){return t===e.id?Object(l.a)(Object(l.a)({},e),{},{completed:!0}):e})),o=Object(l.a)(Object(l.a)({},s),{},{userTodo:e});r(o),O(!1)},className:L.a["completed-btn"],children:Object(i.jsx)(D.a,{})}),Object(i.jsx)("button",{onClick:function(){var e=s.userTodo.filter((function(e){return t!==e.id})),o=Object(l.a)(Object(l.a)({},s),{},{userTodo:e});r(o),O(!1)},className:L.a["delete-btn"],children:Object(i.jsx)(M.b,{})}),Object(i.jsx)("button",{onClick:function(){u(!0),j(t)},className:L.a["edit-btn"],children:Object(i.jsx)(D.c,{})})]}),Object(i.jsx)("button",{onClick:function(e){O((function(e){return!e}))},className:L.a["toggle-btn"],children:m?Object(i.jsx)(D.b,{}):Object(i.jsx)(M.a,{})})]})},U=function(e){var t=e.todo,o=t.completed?"".concat(k.a["todo-wrapper"]," ").concat(k.a.completed):"".concat(k.a["todo-wrapper"]," ");return Object(i.jsxs)("li",{style:{"--todo-color":t.color},className:o,children:[Object(i.jsxs)("div",{className:k.a["todo-header"],children:[Object(i.jsxs)("div",{className:k.a["todo-details"],children:[Object(i.jsx)(y,{date:t.modifyDate}),Object(i.jsx)("span",{className:k.a["todo-title"],children:t.title})]}),Object(i.jsx)(V,{isCompleted:t.completed,todoId:t.id})]}),Object(i.jsx)("div",{className:k.a["todo-content"],children:t.content})]})},J=o(21),P=o.n(J),R=function(e){var t=e.todos.length?e.todos.map((function(e){return Object(i.jsx)(U,{todo:e},e.id)})):Object(i.jsx)("p",{className:P.a["no-todo"],children:"no todos to show"});return Object(i.jsx)("ul",{className:P.a.todoslist,children:t})},W=o(0),q=o(16),G=o(22),Z=o.n(G),z=function(e){return Object(i.jsxs)("div",{className:Z.a["add-todo-header-container"],children:[Object(i.jsx)("h3",{children:e.title}),Object(i.jsx)(N,{onChangeHandler:function(t){e.onGetTodoColor(t)},className:Z.a["add-todo-header-color"],id:"todoColor",value:"#6d72fd",label:"todo color"})]})},Q=o(8),X=o.n(Q),Y=function(e){var t=Object(a.useRef)(),o=Object(a.useState)(e.todoFormInfo.isEdited?e.todoFormInfo.title:""),n=Object(c.a)(o,2),r=n[0],s=n[1],d=Object(a.useState)(e.todoFormInfo.isEdited?e.todoFormInfo.color:"#6d72fd"),l=Object(c.a)(d,2),u=l[0],j=l[1],f=Object(a.useState)({isValid:" ",errorMsg:""}),m=Object(c.a)(f,2),p=m[0],h=m[1];return Object(i.jsxs)("section",{className:X.a.container,style:{"--main-color":e.todoFormInfo.color},children:[Object(i.jsx)(b,{className:"font",children:Object(i.jsx)(z,{title:e.todoFormInfo.isEdited?"edit todo":"add new todo",onGetTodoColor:function(e){j(e)}})}),Object(i.jsxs)("div",{className:X.a["add-todo-wrapper"],children:[Object(i.jsxs)("div",{className:X.a["new-todo-details"],children:[Object(i.jsx)(y,{}),Object(i.jsx)(O,{error:!p.isValid,onChangeHandler:function(e){!function(e){if(!(e.length<4||e.length>20))return h({isValid:!0,errorMsg:""}),!0;h({isValid:!1,errorMsg:""})}(e),s(e)},value:r,className:X.a.input,type:"text",id:"newTodo",label:"title",errorMsg:p.errorMsg,autofocus:!0})]}),Object(i.jsxs)("div",{className:X.a["new-todo-content"],children:[Object(i.jsx)("label",{htmlFor:"todoContent",children:"content"}),Object(i.jsx)("textarea",{id:"todoContent",defaultValue:e.todoFormInfo.isEdited?e.todoFormInfo.content:"",ref:t})]}),Object(i.jsxs)("div",{className:X.a["new-todo-buttons"],children:[Object(i.jsx)("button",{onClick:function(){if(p.isValid){var o={id:e.todoFormInfo.isEdited?e.todoFormInfo.id:Math.random(),title:r,content:t.current.value,modifyDate:e.todoFormInfo.isEdited?e.todoFormInfo.date:new Date,completed:!1,color:u};e.onSubmit(o)}else h((function(e){return{isValid:!1,errorMsg:"enter between 4 & 20 charecter"}}))},className:_.a.button,children:e.todoFormInfo.isEdited?"edit todo":"add new todo"}),Object(i.jsx)("button",{onClick:e.onCancel,className:_.a.button,children:"cancel"})]})]})]})},K=o(9),$=o.n(K),ee=function(e){var t=Object(a.useState)("all"),o=Object(c.a)(t,2),n=o[0],r=o[1],s=Object(a.useState)("before"),d=Object(c.a)(s,2),u=d[0],j=d[1],b=Object(a.useState)(""),f=Object(c.a)(b,2),m=f[0],O=f[1],p=Object(a.useState)(""),h=Object(c.a)(p,2),x=h[0],_=h[1],g=Object(a.useRef)(),v={completedFilter:n,dateFilter:x,isBeforeDate:u,searchText:m},N=function(t){switch(t.target.name){case"date":j(t.target.value),e.onFilter(Object(l.a)(Object(l.a)({},v),{},{isBeforeDate:t.target.value}));break;case"isCompleted":r(t.target.value),e.onFilter(Object(l.a)(Object(l.a)({},v),{},{completedFilter:t.target.value}))}};return Object(i.jsxs)("section",{className:$.a.find_todo,children:[Object(i.jsxs)("div",{className:$.a.search,children:[Object(i.jsx)("input",{ref:g,onChange:function(t){O(t.target.value),e.onFilter(Object(l.a)(Object(l.a)({},v),{},{searchText:t.target.value}))},value:m,type:"text"}),m&&Object(i.jsx)(D.b,{className:$.a.search_reset,onClick:function(t){O(""),e.onFilter(Object(l.a)(Object(l.a)({},v),{},{searchText:t.target.value})),g.current.focus()}}),Object(i.jsx)("button",{children:"search"})]}),Object(i.jsxs)("div",{className:$.a.filter_wrapper,children:[Object(i.jsxs)("div",{className:$.a.date,children:[Object(i.jsxs)("label",{htmlFor:"dateSearch",children:[Object(i.jsx)("span",{children:"search by date"}),Object(i.jsx)("input",{onChange:function(t){_(t.target.value),e.onFilter(Object(l.a)(Object(l.a)({},v),{},{dateFilter:t.target.value}))},value:x,type:"date",name:"dateSearch",id:"dateSearch"})]}),Object(i.jsxs)("label",{htmlFor:"before",children:[Object(i.jsx)("span",{children:" before"}),Object(i.jsx)("input",{onChange:N,checked:"before"===u,value:"before",type:"radio",name:"date",id:"before"})]}),Object(i.jsxs)("label",{htmlFor:"after",children:[Object(i.jsx)("span",{children:"after"}),Object(i.jsx)("input",{onChange:N,checked:"after"===u,value:"after",type:"radio",name:"date",id:"after"})]})]}),Object(i.jsxs)("div",{className:$.a.completed,children:[Object(i.jsxs)("label",{htmlFor:"isCompleted",children:[Object(i.jsx)("span",{children:" completed"}),Object(i.jsx)("input",{onChange:N,checked:"completed"===n,value:"completed",type:"radio",name:"isCompleted",id:"isCompleted"})]}),Object(i.jsxs)("label",{htmlFor:"isNotCompleted",children:[Object(i.jsx)("span",{children:"not completed"}),Object(i.jsx)("input",{onChange:N,checked:"notCompleted"===n,value:"notCompleted",type:"radio",name:"isCompleted",id:"isNotCompleted"})]}),Object(i.jsxs)("label",{htmlFor:"all",children:[Object(i.jsx)("span",{children:"all todo"}),Object(i.jsx)("input",{onChange:N,checked:"all"===n,value:"all",type:"radio",name:"isCompleted",id:"all"})]})]})]})]})},te=function(){var e=Object(a.useContext)(B),t=e.userData,o=e.onEditUser,n=e.onLogedOut,r=t.id,s=t.userInfo,u=t.userTodo,j=Object(a.useState)([]),f=Object(c.a)(j,2),m=f[0],O=f[1],p=Object(a.useState)(!1),h=Object(c.a)(p,2),x=h[0],_=h[1];Object(a.useEffect)((function(){O(Object(d.a)(u)),console.log("done")}),[u]);var g={id:null,color:s.color,title:null,content:null,date:null,isEdited:!1},v=Object(a.useState)(g),N=Object(c.a)(v,2),C=N[0],F=N[1],T=function(){_(!0)};return Object(i.jsx)(H.Provider,{value:{showTodoForm:T,todoFormInfoHandle:function(e){var t=m.find((function(t){return t.id===e})),o={id:e,color:t.color,title:t.title,content:t.content,date:t.modifyDate,isEdited:!0};F(o)}},children:Object(i.jsxs)("section",{style:{position:"relative"},children:[Object(i.jsx)(W.b.Provider,{value:{style:{verticalAlign:"middle",marginLeft:".5rem",cursor:"pointer"}},children:Object(i.jsxs)(b,{style:{"--main-color":s.color},className:"font",children:["Hi , ",s.userName,Object(i.jsx)(q.a,{title:"Edit user",onClick:function(){I()(w.a).fire({position:"center",titleText:"Edit , Will Be Added Later",padding:"1rem",width:"auto",icon:"info",timer:2500,showConfirmButton:!1,iconColor:s.color})}}),Object(i.jsx)(q.b,{title:"Exit",onClick:function(){localStorage.removeItem("ActiveUser"),n(!1)}}),Object(i.jsx)(q.c,{title:"add new todo",onClick:function(){return T()}}),Object(i.jsx)(ee,{onFilter:function(e){console.log(e);var t=Object(d.a)(u),o=[];"completed"===e.completedFilter?(o=t.filter((function(e){return e.completed})),console.log("done")):"notCompleted"===e.completedFilter?(o=t.filter((function(e){return!e.completed})),console.log("notdone")):(o=Object(d.a)(u),console.log("all"));var n=[];e.dateFilter&&"before"===e.isBeforeDate?(n=o.filter((function(t){return new Date(t.modifyDate).getTime()<new Date(e.dateFilter).getTime()})),console.log("bef")):e.dateFilter&&"after"===e.isBeforeDate?(n=o.filter((function(t){return new Date(t.modifyDate).getTime()>new Date(e.dateFilter).getTime()})),console.log("aft")):n=Object(d.a)(o);var c=[];e.searchText?(console.log("se"),c=n.filter((function(t){return t.title.includes(e.searchText.trim())||t.content.includes(e.searchText.trim())}))):(console.log("no se"),c=Object(d.a)(n)),console.log(c),O(Object(d.a)(c))}})]})}),Object(i.jsx)(R,{todos:m}),x&&Object(i.jsx)(Y,{onSubmit:function(e){var t={};if(C.isEdited){console.log(e);var n=m.map((function(t){return e.id===t.id?e:t}));console.log(n),t={id:r,userInfo:s,userTodo:n}}else t={id:r,userInfo:s,userTodo:[].concat(Object(d.a)(m),[e])};o(t),_(!1),F(Object(l.a)({},g))},onCancel:function(){_(!1),F(Object(l.a)({},g))},todoFormInfo:C})]})})},oe=function(e){var t=Object(a.useState)({userName:"",color:"#29f5fb"}),o=Object(c.a)(t,2),n=o[0],r=o[1],s=Object(a.useState)({isValid:" ",errorMsg:""}),u=Object(c.a)(s,2),j=u[0],f=u[1],m=Object(a.useContext)(B),p=function(e){if(!(e.length<4||e.length>20))return f({isValid:!0,errorMsg:""}),!0;f({isValid:!1,errorMsg:""})};return m.isLoggedIn?Object(i.jsx)(te,{}):Object(i.jsxs)("section",{className:h.a["get-info-wrapper"],children:[Object(i.jsx)(b,{className:"font",children:"welcome to todo App"}),Object(i.jsxs)("div",{className:h.a["get-info-inputs"],children:[Object(i.jsx)(O,{error:!j.isValid,onChangeHandler:function(e){p(e),r((function(t){return Object(l.a)(Object(l.a)({},t),{},{userName:e})}))},type:"text",id:"newUser",label:"user name",value:n.userName,errorMsg:j.errorMsg}),Object(i.jsx)(N,{onChangeHandler:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{color:e})}))},id:"color",label:"choose your favorit color"})]}),Object(i.jsx)("button",{onClick:function(){if(p(n.userName)){var t=e.users.find((function(e){return n.userName.toLowerCase()===e.userInfo.userName.toLowerCase()}));if(t)m.onlogedIn(!0,t),localStorage.setItem("ActiveUser",JSON.stringify(t.userInfo));else{var o={id:Math.random(),userInfo:n,userTodo:[]},c=[].concat(Object(d.a)(e.users),[o]);localStorage.setItem("users",JSON.stringify(c)),m.onlogedIn(!0,o),localStorage.setItem("ActiveUser",JSON.stringify(n))}}else f({isValid:!1,errorMsg:"user name must be between 4 and 20"})},className:_.a.button,children:"enter"})]})};var ne=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),o=t[0],n=t[1],r=Object(a.useState)({id:"",userInfo:{userName:"",color:""},userTodo:[]}),d=Object(c.a)(r,2),l=d[0],u=d[1],j=JSON.parse(localStorage.getItem("ActiveUser")),b=JSON.parse(localStorage.getItem("users"))||[],f=function(e){var t=b.map((function(t){return t.id===e.id?e:t}));localStorage.setItem("users",JSON.stringify(t)),u(e)};return Object(a.useEffect)((function(){if(j){var e=b.find((function(e){return j.userName.toLowerCase()===e.userInfo.userName.toLowerCase()}));f(e),n(!0)}}),[]),Object(i.jsx)(B.Provider,{value:{isLoggedIn:o,userData:l,onlogedIn:function(e,t){n(e),u(t)},onLogedOut:function(e){n(e)},onEditUser:f},children:Object(i.jsx)(s,{children:o?Object(i.jsx)(te,{}):Object(i.jsx)(oe,{users:b})})})},ce=(o(56),document.getElementById("root"));Object(n.createRoot)(ce).render(Object(i.jsx)(ne,{}))},6:function(e,t,o){e.exports={"todo-wrapper":"todo_todo-wrapper__25a8C",completed:"todo_completed__2R6Xf","todo-header":"todo_todo-header__maAlo","todo-details":"todo_todo-details__2pjz5","todo-title":"todo_todo-title__157Sh","todo-more-action":"todo_todo-more-action__xlbAs","todo-content":"todo_todo-content__1B0So"}},7:function(e,t,o){e.exports={"more-action-wrapper":"MoreActionBtn_more-action-wrapper__uhQ6H","more-action":"MoreActionBtn_more-action__3xOoV","more-action-active":"MoreActionBtn_more-action-active__3APLS","completed-btn":"MoreActionBtn_completed-btn__1N-uQ","delete-btn":"MoreActionBtn_delete-btn__2iE0L","edit-btn":"MoreActionBtn_edit-btn__1vRP5","toggle-btn":"MoreActionBtn_toggle-btn__bHixx"}},8:function(e,t,o){e.exports={container:"TodoForm_container__k51v1","add-todo-wrapper":"TodoForm_add-todo-wrapper__3PdZs",input:"TodoForm_input__1EbZD","new-todo-content":"TodoForm_new-todo-content__1EST0","new-todo-buttons":"TodoForm_new-todo-buttons__ThAjo"}},9:function(e,t,o){e.exports={find_todo:"filterTodo_find_todo__3sWqF",search:"filterTodo_search__37VmY",search_reset:"filterTodo_search_reset__1eaJk",filter_wrapper:"filterTodo_filter_wrapper__1tG00",completed:"filterTodo_completed__dPscJ",date:"filterTodo_date__1XCzJ"}}},[[57,1,2]]]);
//# sourceMappingURL=main.b015968b.chunk.js.map